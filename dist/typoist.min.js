!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Typoist=e()}(this,(function(){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function n(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==e&&n.path)}},n.exports),n.exports}var i=n((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.generateRandomCharacter=void 0;var n=[[["`","~"],["1","!"],["2","@"],["3","#"],["4","$"],["5","%"],["6","^"],["7","&"],["8","*"],["9","("],["0",")"],["-","_"],["=","+"]],[["\t","\t"],["q","Q"],["w","W"],["e","E"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["[","{"],["]","}"],["\\","|"]],[["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],[";",":"],["'",'"'],["\n","\n"]],[["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",","<"],[".",">"],["/","?"]],[["",""]],[[" "," "]],[[" "," "]],[[" "," "]],[[" "," "]],[[" "," "]],[[" "," "]]];e.generateRandomCharacter=function(t){for(var e=0;e<n.length;e++)for(var i=0;i<n[e].length;i++)for(var o=0;o<2;o++)if(n[e][i][o]===t){var a=e,r=i,p=Math.random(),s=Math.random();return p<=1/3?a++:p>=2/3&&a--,s<=1/3?r++:s>=2/3&&r--,a=Math.max(0,Math.min(a,n.length-1)),r=Math.max(0,Math.min(r,n[a].length-1)),n[a][r][o]}return t}}));return e(n((function(e,n){var o=t&&t.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0}),n.Typoist=n.TypoistDefaults=void 0,n.TypoistDefaults={speed:10,mistakeProbability:.1,appendFunction:function(t){},deleteFunction:function(){}};var a=function(){function t(t){var e=this;this.currentTypingLocation=0,this.isTyping=!1,this.manipulateQueue=[],this.pasteFunc=function(){e.currentTypingLocation<e.stringToType.length&&e.isTyping&&(Math.random()>=1-e.mistakeProbability?(e.manipulateQueue.push({operation:"append",character:i.generateRandomCharacter(e.stringToType[e.currentTypingLocation])}),e.manipulateQueue.push({operation:"delete"})):e.manipulateQueue.push({operation:"append",character:e.stringToType[e.currentTypingLocation++]}))},this.manipulatorLoop=function(){if(e.isTyping&&e.manipulateQueue.length>0){var t=e.manipulateQueue.shift();"delete"===t.operation?e.deleteFunction():"append"===t.operation&&e.appendFunction(t.character)}else e.pasteFunc();e.currentTypingLocation>=e.stringToType.length&&0===e.manipulateQueue.length?(e.stopTyping(),e.onComplete&&e.onComplete()):e.manipulatorTimeOut=setTimeout(e.manipulatorLoop,e.typingDelay*Math.random())},this.settings=o(o({},n.TypoistDefaults),t),this.speed=this.settings.speed,this.typingDelay=1e3/this.speed,this.mistakeProbability=this.settings.mistakeProbability,this.appendFunction=this.settings.appendFunction,this.deleteFunction=this.settings.deleteFunction,this.onComplete=this.settings.onComplete}return t.prototype.setStringToType=function(t){return this.stringToType=t,this},t.prototype.startTyping=function(){return this.isTyping||(this.isTyping=!0,this.manipulatorLoop()),this},t.prototype.stopTyping=function(){return this.isTyping&&(this.isTyping=!1,clearTimeout(this.manipulatorTimeOut)),this},t}();n.Typoist=a})))}));
